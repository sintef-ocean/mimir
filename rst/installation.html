

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  
  <title>Build instructions &mdash; mimir  documentation</title>
  

  
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/graphviz.css" type="text/css" />
  <link rel="stylesheet" href="../_static/eq_fix.css" type="text/css" />
  <link rel="stylesheet" href="../_static/enumerable.css" type="text/css" />

  
  
    <link rel="shortcut icon" href="../_static/icon.ico"/>
  

  
  

  

  
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/doctools.js"></script>
        <script src="../_static/mathwork.js"></script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Creating a new algorithm" href="extending.html" />
    <link rel="prev" title="Introduction" href="intro.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search"  style="background: #00457c" >
          

          
            <a href="../index.html" class="icon icon-home"> mimir
          

          
            
            <img src="../_static/logo.png" class="logo" alt="Logo"/>
          
          </a>

          
            
            
              <div class="version">
                0.3.0
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Overview</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="intro.html">Introduction</a><ul>
<li class="toctree-l2"><a class="reference internal" href="intro.html#overview">Overview</a></li>
<li class="toctree-l2"><a class="reference internal" href="intro.html#running-an-algorithm">Running an algorithm</a><ul>
<li class="toctree-l3"><a class="reference internal" href="intro.html#yaml-config-file">YAML config file</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="intro.html#interacting-with-the-algorithm">Interacting with the algorithm</a></li>
</ul>
</li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Build instructions</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#configuration-options-and-targets">Configuration options and targets</a></li>
<li class="toctree-l2"><a class="reference internal" href="#linux">Linux</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#prerequisites-debian-based">Prerequisites (debian-based)</a></li>
<li class="toctree-l3"><a class="reference internal" href="#documentation-prerequisites-optional">Documentation prerequisites <em>(optional)</em></a></li>
<li class="toctree-l3"><a class="reference internal" href="#building-and-running-debian-based">Building and running (debian-based)</a></li>
<li class="toctree-l3"><a class="reference internal" href="#packaging-into-artifacts">Packaging into artifacts</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#windows">Windows</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#prerequisites">Prerequisites</a></li>
<li class="toctree-l3"><a class="reference internal" href="#documentation-prerequisites-on-windows-optional">Documentation prerequisites on Windows <em>(optional)</em></a></li>
<li class="toctree-l3"><a class="reference internal" href="#building-and-running">Building and running</a></li>
<li class="toctree-l3"><a class="reference internal" href="#packaging-into-installer-and-archive">Packaging into installer and archive</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="extending.html">Creating a new algorithm</a></li>
</ul>
<p class="caption"><span class="caption-text">Manpage</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="usage.html">MIMIR</a><ul>
<li class="toctree-l2"><a class="reference internal" href="usage.html#name">NAME</a></li>
<li class="toctree-l2"><a class="reference internal" href="usage.html#synopsis">SYNOPSIS</a></li>
<li class="toctree-l2"><a class="reference internal" href="usage.html#description">DESCRIPTION</a></li>
<li class="toctree-l2"><a class="reference internal" href="usage.html#options">OPTIONS</a></li>
<li class="toctree-l2"><a class="reference internal" href="usage.html#configuration">CONFIGURATION</a></li>
<li class="toctree-l2"><a class="reference internal" href="usage.html#environment">ENVIRONMENT</a></li>
<li class="toctree-l2"><a class="reference internal" href="usage.html#files">FILES</a></li>
<li class="toctree-l2"><a class="reference internal" href="usage.html#example">EXAMPLE</a><ul>
<li class="toctree-l3"><a class="reference internal" href="usage.html#yaml-config-file">YAML config file</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="usage.html#notes">NOTES</a></li>
<li class="toctree-l2"><a class="reference internal" href="usage.html#see-also">SEE ALSO</a></li>
<li class="toctree-l2"><a class="reference internal" href="usage.html#copyright">COPYRIGHT</a></li>
</ul>
</li>
</ul>
<p class="caption"><span class="caption-text">Implementation</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="formulation.html">Nonlinear programming formulation</a><ul>
<li class="toctree-l2"><a class="reference internal" href="formulation.html#brief-introduction-to-nonlinear-programming-problems">Brief introduction to nonlinear programming problems</a></li>
<li class="toctree-l2"><a class="reference internal" href="formulation.html#formulating-an-nlp-from-dae-ocp-and-discretization">Formulating an NLP from DAE, OCP and discretization</a><ul>
<li class="toctree-l3"><a class="reference internal" href="formulation.html#nlp-formulation-overview">NLP formulation overview</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="formulation.html#receding-horizon">Receding horizon</a></li>
<li class="toctree-l2"><a class="reference internal" href="formulation.html#mathematical-notation">Mathematical notation</a></li>
<li class="toctree-l2"><a class="reference internal" href="formulation.html#differential-algebraic-equations-daes">Differential-algebraic equations (DAEs)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="formulation.html#the-constrained-dae-initial-value-problem-ivp">The constrained DAE initial value problem (IVP)</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="formulation.html#optimal-control-problem-ocp">Optimal control problem (OCP)</a></li>
<li class="toctree-l2"><a class="reference internal" href="formulation.html#discretization-of-the-continuous-time-ocp">Discretization of the continuous time OCP</a><ul>
<li class="toctree-l3"><a class="reference internal" href="formulation.html#shooting-approaches">Shooting approaches</a></li>
<li class="toctree-l3"><a class="reference internal" href="formulation.html#collocation">Collocation</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="formulation.html#nonlinear-programming-problem-nlp">Nonlinear programming problem (NLP)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="formulation.html#formulation-strategies-and-extensions">Formulation strategies and extensions</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="formulation.html#helper-functions">Helper functions</a><ul>
<li class="toctree-l3"><a class="reference internal" href="formulation.html#adding-variable-bounds-add-nlp-variable-bounds">Adding variable bounds <code class="docutils literal notranslate"><span class="pre">::add_nlp_variable_bounds</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="formulation.html#time-grid-function-create-solution-timegrid">Time grid function <code class="docutils literal notranslate"><span class="pre">::create_solution_timegrid</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="formulation.html#nlp-tuple-unpacker-create-solution-unpacker">NLP tuple unpacker <code class="docutils literal notranslate"><span class="pre">::create_solution_unpacker</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="formulation.html#nlp-decision-parameters-create-decision-parameter-extractor">NLP decision parameters <code class="docutils literal notranslate"><span class="pre">::create_decision_parameter_extractor</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="formulation.html#nlp-subsystem-extractor-create-system-extractor">NLP subsystem extractor <code class="docutils literal notranslate"><span class="pre">::create_system_extractor</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="formulation.html#nlp-shifter-create-horizon-shifter">NLP shifter <code class="docutils literal notranslate"><span class="pre">::create_horizon_shifter</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="formulation.html#nlp-trajectory-create-trajectory-function">NLP trajectory <code class="docutils literal notranslate"><span class="pre">::create_trajectory_function</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="planner.html">Path planner for deployment</a><ul>
<li class="toctree-l2"><a class="reference internal" href="planner.html#motivation-and-rationale">Motivation and rationale</a></li>
<li class="toctree-l2"><a class="reference internal" href="planner.html#problem-statement-of-the-purse-seine-path-planner">Problem statement of the purse seine path planner</a></li>
<li class="toctree-l2"><a class="reference internal" href="planner.html#purse-planner-formulation">Purse planner formulation</a><ul>
<li class="toctree-l3"><a class="reference internal" href="planner.html#notation">Notation</a></li>
<li class="toctree-l3"><a class="reference internal" href="planner.html#sea-current-and-surface-current-water-frame">Sea current and surface current water frame</a></li>
<li class="toctree-l3"><a class="reference internal" href="planner.html#fishing-vessel">Fishing vessel</a></li>
<li class="toctree-l3"><a class="reference internal" href="planner.html#fish-school">Fish school</a></li>
<li class="toctree-l3"><a class="reference internal" href="planner.html#leadline-sinking-response">Leadline sinking response</a></li>
<li class="toctree-l3"><a class="reference internal" href="planner.html#purse-planner-criteria">Purse planner criteria</a><ul>
<li class="toctree-l4"><a class="reference internal" href="planner.html#objective-function-terms">Objective function terms</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="planner.html#nonlinear-programming-problem-for-purse-seine-deployment">Nonlinear programming problem for purse seine deployment</a></li>
<li class="toctree-l3"><a class="reference internal" href="planner.html#receding-horizon">Receding horizon</a></li>
<li class="toctree-l3"><a class="reference internal" href="planner.html#discussion-on-solution-strategies-and-improvements">Discussion on solution strategies and improvements</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="planner.html#appendix">Appendix</a><ul>
<li class="toctree-l3"><a class="reference internal" href="planner.html#regularly-parameterized-paths-and-path-following">Regularly parameterized paths and path following</a><ul>
<li class="toctree-l4"><a class="reference internal" href="planner.html#regularly-parameterized-paths">Regularly parameterized paths</a></li>
<li class="toctree-l4"><a class="reference internal" href="planner.html#path-tangential-frame-and-arc-length">Path-tangential frame and arc length</a></li>
<li class="toctree-l4"><a class="reference internal" href="planner.html#particle-feedback-laws">Particle feedback laws</a></li>
<li class="toctree-l4"><a class="reference internal" href="planner.html#slip-angle">Slip angle</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="libraries.html">A note on library dependencies</a></li>
<li class="toctree-l1"><a class="reference internal" href="yamlconfig.html">YAML configuration files and schemas</a><ul>
<li class="toctree-l2"><a class="reference internal" href="yamlconfig.html#purse-planner-configuration-schema">Purse planner configuration schema</a></li>
</ul>
</li>
</ul>
<p class="caption"><span class="caption-text">API Reference</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../api/library-api.html">Public API</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../api/library-api.html#class-hierarchy">Class Hierarchy</a></li>
<li class="toctree-l2"><a class="reference internal" href="../api/library-api.html#file-hierarchy">File Hierarchy</a></li>
<li class="toctree-l2"><a class="reference internal" href="../api/library-api.html#items-listing">Items listing</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../api/library-api.html#namespaces">Namespaces</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../api/namespace_mimir.html">Namespace mimir</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../api/library-api.html#classes-and-structs">Classes and Structs</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../api/classmimir_1_1IAlgorithm.html">Class IAlgorithm</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../api_private/library-api-private.html">Private API</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../api_private/library-api-private.html#class-hierarchy">Class Hierarchy</a></li>
<li class="toctree-l2"><a class="reference internal" href="../api_private/library-api-private.html#file-hierarchy">File Hierarchy</a></li>
<li class="toctree-l2"><a class="reference internal" href="../api_private/library-api-private.html#items-listing">Items listing</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../api_private/library-api-private.html#namespaces">Namespaces</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../api_private/namespace_mimir.html">Namespace mimir</a></li>
<li class="toctree-l4"><a class="reference internal" href="../api_private/namespace_mimir__algorithm.html">Namespace mimir::algorithm</a></li>
<li class="toctree-l4"><a class="reference internal" href="../api_private/namespace_mimir__control.html">Namespace mimir::control</a></li>
<li class="toctree-l4"><a class="reference internal" href="../api_private/namespace_mimir__detail.html">Namespace mimir::detail</a></li>
<li class="toctree-l4"><a class="reference internal" href="../api_private/namespace_mimir__program.html">Namespace mimir::program</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../api_private/library-api-private.html#classes-and-structs">Classes and Structs</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../api_private/structmimir_1_1algorithm_1_1NlpProblemBuilder.html">Struct NlpProblemBuilder</a></li>
<li class="toctree-l4"><a class="reference internal" href="../api_private/structmimir_1_1algorithm_1_1NlpStructure.html">Struct NlpStructure</a></li>
<li class="toctree-l4"><a class="reference internal" href="../api_private/structmimir_1_1Evaluating.html">Struct Evaluating</a></li>
<li class="toctree-l4"><a class="reference internal" href="../api_private/structmimir_1_1EvError.html">Struct EvError</a></li>
<li class="toctree-l4"><a class="reference internal" href="../api_private/structmimir_1_1EvInterrupt.html">Struct EvInterrupt</a></li>
<li class="toctree-l4"><a class="reference internal" href="../api_private/structmimir_1_1EvKill.html">Struct EvKill</a></li>
<li class="toctree-l4"><a class="reference internal" href="../api_private/structmimir_1_1EvReady.html">Struct EvReady</a></li>
<li class="toctree-l4"><a class="reference internal" href="../api_private/structmimir_1_1EvRestart.html">Struct EvRestart</a></li>
<li class="toctree-l4"><a class="reference internal" href="../api_private/structmimir_1_1EvRunningOK.html">Struct EvRunningOK</a></li>
<li class="toctree-l4"><a class="reference internal" href="../api_private/structmimir_1_1EvStart.html">Struct EvStart</a></li>
<li class="toctree-l4"><a class="reference internal" href="../api_private/structmimir_1_1EvStop.html">Struct EvStop</a></li>
<li class="toctree-l4"><a class="reference internal" href="../api_private/structmimir_1_1EvTimeout.html">Struct EvTimeout</a></li>
<li class="toctree-l4"><a class="reference internal" href="../api_private/structmimir_1_1Initializing.html">Struct Initializing</a></li>
<li class="toctree-l4"><a class="reference internal" href="../api_private/structmimir_1_1Running.html">Struct Running</a></li>
<li class="toctree-l4"><a class="reference internal" href="../api_private/structmimir_1_1ShutDown.html">Struct ShutDown</a></li>
<li class="toctree-l4"><a class="reference internal" href="../api_private/structmimir_1_1Standby.html">Struct Standby</a></li>
<li class="toctree-l4"><a class="reference internal" href="../api_private/structmimir_1_1StateMachine.html">Struct StateMachine</a></li>
<li class="toctree-l4"><a class="reference internal" href="../api_private/structmimir_1_1Waiting.html">Struct Waiting</a></li>
<li class="toctree-l4"><a class="reference internal" href="../api_private/classmimir_1_1algorithm_1_1FishSchool.html">Class FishSchool</a></li>
<li class="toctree-l4"><a class="reference internal" href="../api_private/classmimir_1_1algorithm_1_1KinematicVessel.html">Class KinematicVessel</a></li>
<li class="toctree-l4"><a class="reference internal" href="../api_private/classmimir_1_1algorithm_1_1Leadline.html">Class Leadline</a></li>
<li class="toctree-l4"><a class="reference internal" href="../api_private/classmimir_1_1algorithm_1_1PursePlanner.html">Class PursePlanner</a></li>
<li class="toctree-l4"><a class="reference internal" href="../api_private/classmimir_1_1algorithm_1_1PursePlannerFormulation.html">Class PursePlannerFormulation</a></li>
<li class="toctree-l4"><a class="reference internal" href="../api_private/classmimir_1_1algorithm_1_1TestAlgorithm.html">Class TestAlgorithm</a></li>
<li class="toctree-l4"><a class="reference internal" href="../api_private/classmimir_1_1control_1_1CommandListener.html">Template Class CommandListener</a></li>
<li class="toctree-l4"><a class="reference internal" href="../api_private/classmimir_1_1control_1_1CommandResponder.html">Class CommandResponder</a></li>
<li class="toctree-l4"><a class="reference internal" href="../api_private/classmimir_1_1control_1_1StateNotifier.html">Class StateNotifier</a></li>
<li class="toctree-l4"><a class="reference internal" href="../api_private/classmimir_1_1Options.html">Class Options</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../api_private/library-api-private.html#functions">Functions</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../api_private/function_namespacemimir_1a3aefdada3944d997af13a71cded2ba72.html">Function mimir::AlgorithmCreator</a></li>
<li class="toctree-l4"><a class="reference internal" href="../api_private/function_namespacemimir_1_1detail_1a4edbe193d90ba66d98d42b380008c618.html">Function mimir::detail::NotifierQos</a></li>
<li class="toctree-l4"><a class="reference internal" href="../api_private/function_namespacemimir_1_1detail_1ab2f8aaf370c0379e1e5ed16cdfd819c3.html">Function mimir::detail::RepWriterQos</a></li>
<li class="toctree-l4"><a class="reference internal" href="../api_private/function_namespacemimir_1_1detail_1a495352727411b7952358e031d0b4398e.html">Function mimir::detail::ReqReaderQos</a></li>
<li class="toctree-l4"><a class="reference internal" href="../api_private/function_namespacemimir_1_1program_1a7337f2e8311a587cd0c5683bb0f9c38e.html">Function mimir::program::parse_config</a></li>
<li class="toctree-l4"><a class="reference internal" href="../api_private/function_namespacemimir_1_1program_1a61839fde6d16792c4662769b5116da05.html">Function mimir::program::read_doc</a></li>
<li class="toctree-l4"><a class="reference internal" href="../api_private/function_namespacemimir_1_1program_1a0322295105de34488b656521c2c13e49.html">Function mimir::program::read_leaf</a></li>
<li class="toctree-l4"><a class="reference internal" href="../api_private/function_namespacemimir_1_1program_1afe086b58811123bc3ba0b551d350f38e.html">Function mimir::program::read_list</a></li>
<li class="toctree-l4"><a class="reference internal" href="../api_private/function_namespacemimir_1_1program_1abe1e85d21335ab8c9c36ff4c84f648cf.html">Function mimir::program::read_map</a></li>
<li class="toctree-l4"><a class="reference internal" href="../api_private/function_namespacemimir_1a79d81e727aac93be814fb51da9fef88a.html">Function mimir::SIGTERMHandler</a></li>
<li class="toctree-l4"><a class="reference internal" href="../api_private/function_namespacemimir_1a60f83e0bee821b6af5a9444be2ebe445.html">Function mimir::transform_severity</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../api_private/library-api-private.html#variables">Variables</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../api_private/variable_namespacemimir_1a8a483b262641a4af7cfab764663d851a.html">Variable mimir::signaled</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="zbibliography.html">Bibliography</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">mimir</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content style-external-links">
        
          

















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html" class="icon icon-home"></a> &raquo;</li>
        
      <li>Build instructions</li>
    
    

<li class="wy-breadcrumbs-aside">
  <a href="https://github.com/sintef-ocean/mimir" class="fa fa-github"> Source on GitHub</a>
  <a href="https://docs.sintef.io" class="icon icon-home"> docs.sintef.io</a>
</li>


  </ul>

  
  <div class="rst-breadcrumbs-buttons" role="navigation" aria-label="breadcrumb navigation">
      
        <a href="extending.html" class="btn btn-neutral float-right" title="Creating a new algorithm" accesskey="n">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
      
      
        <a href="intro.html" class="btn btn-neutral float-left" title="Introduction" accesskey="p"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
      
  </div>
  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="build-instructions">
<h1>Build instructions<a class="headerlink" href="#build-instructions" title="Permalink to this headline">¶</a></h1>
<p>You need a compiler that supports <em>c++17</em> to build <code class="docutils literal notranslate"><span class="pre">mimir</span></code>. It is known to compile with
<code class="docutils literal notranslate"><span class="pre">gcc</span> <span class="pre">8</span></code>, <code class="docutils literal notranslate"><span class="pre">clang</span> <span class="pre">9</span></code>, and <code class="docutils literal notranslate"><span class="pre">msvc++</span> <span class="pre">14.2</span></code>. You need the <a class="reference external" href="https://cmake.org/">CMake</a> build system generator. The
application requires RatatoskIDL, <a class="reference external" href="https://github.com/ADLINK-IST/opensplice">opensplice-ce</a>, <a class="reference external" href="https://web.casadi.org/">casadi</a>, <code class="docutils literal notranslate"><span class="pre">yaml-cpp</span></code>, and <code class="docutils literal notranslate"><span class="pre">boost</span></code>.</p>
<p>The <strong>recommended</strong> approach to build the application is with the help of <a class="reference external" href="https://conan.io/">conan</a>. <code class="docutils literal notranslate"><span class="pre">conan</span></code> is
a python tool, and once installed, you need to set the following conan remotes.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>python -m pip install conan

conan remote add sintef https://artifactory.smd.sintef.no/api/conan/conan-local
conan config <span class="nb">set</span> general.revisions_enabled<span class="o">=</span><span class="m">1</span>
</pre></div>
</div>
<p>Building the documentation is <em>optional</em>. It is generated using <code class="docutils literal notranslate"><span class="pre">doxygen</span></code>, <code class="docutils literal notranslate"><span class="pre">sphinx</span></code>,
<code class="docutils literal notranslate"><span class="pre">emacs</span></code>, and <code class="docutils literal notranslate"><span class="pre">plantuml</span></code>. You also need the following python modules
(<code class="docutils literal notranslate"><span class="pre">docs/requirements.txt</span></code>):</p>
<div class="highlight-ini notranslate"><div class="highlight"><pre><span></span><span class="na">breathe</span>
<span class="na">Sphinx &gt;</span><span class="o">=</span> <span class="s">4.0.0</span>
<span class="na">exhale</span>
<span class="na">sphinx-rtd-theme</span>
<span class="na">sphinxcontrib-plantuml</span>
<span class="na">sphinxcontrib-bibtex</span>
<span class="na">sphinxcontrib-svg2pdfconverter</span>
<span class="na">doc2dash</span>
</pre></div>
</div>
<p>Instructions for each platform is found below.</p>
<div class="section" id="configuration-options-and-targets">
<h2>Configuration options and targets<a class="headerlink" href="#configuration-options-and-targets" title="Permalink to this headline">¶</a></h2>
<p>The table below specifies available options when building the application.</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 31%" />
<col style="width: 17%" />
<col style="width: 9%" />
<col style="width: 43%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>CMake Option</p></th>
<th class="head"><p>conan option</p></th>
<th class="head"><p>Default</p></th>
<th class="head"><p>Comment</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>See comment</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">with_fPIC</span></code></p></td>
<td><p>True</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">CMAKE_POSITION_INDEPENDENT_CODE=ON</span></code></p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">WITH_DOC</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">with_doc</span></code></p></td>
<td><p>False</p></td>
<td><p>Use <code class="docutils literal notranslate"><span class="pre">cmake</span> <span class="pre">--build</span> <span class="pre">.</span> <span class="pre">--target</span> <span class="pre">doc</span></code></p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">MIMIR_WITH_GNUPLOT</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">with_gnuplot</span></code></p></td>
<td><p>False</p></td>
<td><p>Build with <code class="docutils literal notranslate"><span class="pre">gnuplot</span></code> visualization</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">MIMIR_SKIP_UNOFFICIAL_DEPS</span></code></p></td>
<td><p>N/A</p></td>
<td><p>False</p></td>
<td><p>Skip non-public dependencies in <em>.deb</em> file</p></td>
</tr>
</tbody>
</table>
<p>The following extra build targets are available:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">doc</span></code> will build documentation html.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">package_it</span></code> will create <em>.deb</em> (linux), <em>.exe</em> (windows), and <em>.tar.gz</em></p></li>
</ul>
<p>If the executable is built without <code class="docutils literal notranslate"><span class="pre">conan</span></code>, the Debian packages
will contain dependencies to system packages and non-standard
packages: <code class="docutils literal notranslate"><span class="pre">casadi-dep</span></code>, <code class="docutils literal notranslate"><span class="pre">casadi</span></code>, <code class="docutils literal notranslate"><span class="pre">opensplice-{hde,rts}</span></code>, which can
be skipped with <code class="docutils literal notranslate"><span class="pre">MIMIR_SKIP_UNOFFICIAL_DEPS=ON</span></code>. This variable has
no effect if the package is built with conan.</p>
<ul class="simple">
<li><p>An additional option <code class="docutils literal notranslate"><span class="pre">WITH_API_DOC=OFF</span></code> disables API documentation, and enables LaTeX
and PDF output of the user documentation. This currently requires linux OS,
<code class="docutils literal notranslate"><span class="pre">inkscape</span></code>, <code class="docutils literal notranslate"><span class="pre">latexmk</span></code>, and a LaTeX distribution to be installed. The output will be
available in <code class="docutils literal notranslate"><span class="pre">&lt;build_folder&gt;/docs/sphinx/latex/</span></code>.</p></li>
</ul>
</div>
<div class="section" id="linux">
<h2>Linux<a class="headerlink" href="#linux" title="Permalink to this headline">¶</a></h2>
<div class="section" id="prerequisites-debian-based">
<h3>Prerequisites (debian-based)<a class="headerlink" href="#prerequisites-debian-based" title="Permalink to this headline">¶</a></h3>
<p>These instructions assume a <code class="docutils literal notranslate"><span class="pre">gcc</span></code> compiler and using <code class="docutils literal notranslate"><span class="pre">conan</span></code>.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>apt-get install -y build-essential cmake pkg-config python3-pip readelf
python -m pip install setuptools wheel conan
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>There may be other (unknown) packages needed by transitive dependencies, which are
not installed by conan. You may either install them manually when build errors occur,
or you can set environment variable <a class="reference external" href="https://docs.conan.io/en/latest/reference/env_vars.html#conan-sysrequires-mode">CONAN SYSREQUIRES MODE=enabled</a>, which lets conan
automatically install them for you.</p>
</div>
</div>
<div class="section" id="documentation-prerequisites-optional">
<h3>Documentation prerequisites <em>(optional)</em><a class="headerlink" href="#documentation-prerequisites-optional" title="Permalink to this headline">¶</a></h3>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>apt-get install -y doxygen emacs-nox graphviz plantuml wget pandoc
python -m pip install -r docs/requirements.txt --upgrade
emacs -Q --batch -l docs/emacs-install-pkgs.el
</pre></div>
</div>
<p>If your distribution is a bit old, you may have to update <code class="docutils literal notranslate"><span class="pre">plantuml</span></code>.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>wget https://sourceforge.net/projects/plantuml/files/plantuml.jar
mv plantuml.jar /usr/share/plantuml/
</pre></div>
</div>
</div>
<div class="section" id="building-and-running-debian-based">
<h3>Building and running (debian-based)<a class="headerlink" href="#building-and-running-debian-based" title="Permalink to this headline">¶</a></h3>
<p>To install dependencies and build the application you can run the following commands:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>mkdir build <span class="o">&amp;&amp;</span> <span class="nb">cd</span> build
conan install .. <span class="se">\</span>
  --options mimir:with_doc<span class="o">=</span>True <span class="se">\</span>
  --build missing <span class="se">\</span>
  --settings compiler.libcxx<span class="o">=</span>libstdc++11
conan build ..
</pre></div>
</div>
<p>You need to activate virtual environments to run the built application.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>. activate.sh     <span class="c1"># Opensplice environment variables</span>
. activate_run.sh <span class="c1"># Dynamic libraries added to LD_LIBRARY_PATH</span>
bin/mimir /path/to/config.yml
</pre></div>
</div>
<p>Note that if HSL solvers are to be used, they need to be enabled, for instance as
follows, where you provide an absolute path to your HSL source copy:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>conan install .. <span class="se">\</span>
  -o casadi:with_common<span class="o">=</span>True <span class="se">\</span>
  -o casadi:hsl<span class="o">=</span>True <span class="se">\</span>
  -o coinhsl:hsl_archive<span class="o">=</span>&lt;path to coinhsl.tar.gz&gt; <span class="se">\</span>
  -o ipopt:with_hsl<span class="o">=</span>True
</pre></div>
</div>
</div>
<div class="section" id="packaging-into-artifacts">
<h3>Packaging into artifacts<a class="headerlink" href="#packaging-into-artifacts" title="Permalink to this headline">¶</a></h3>
<p>The project builds into various artifacts on Linux.</p>
<ul class="simple">
<li><p><em>.deb</em> package, build target <code class="docutils literal notranslate"><span class="pre">package_it</span></code>.</p></li>
<li><p><em>.tar.gz</em> archive, build target <code class="docutils literal notranslate"><span class="pre">package_it</span></code>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">conan</span> <span class="pre">package</span> <span class="pre">..</span></code> will build all supported targets into the
<code class="docutils literal notranslate"><span class="pre">package</span></code> subdirectory of your build directory. You must call
<code class="docutils literal notranslate"><span class="pre">conan</span> <span class="pre">install</span> <span class="pre">..</span></code> as described above first.</p></li>
</ul>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>When building with conan, the <em>.deb</em> packages will only be built
with very limited number of system package dependencies. This is
because the dependencies are bundled with the package to ensure
that the versions are as the built executable expects. Notable
exceptions are OpenMP and Fortran runtimes. They are guessed by
the compiler version used, but can be overridden by specifying
<code class="docutils literal notranslate"><span class="pre">MIMIR_OMP</span></code> and <code class="docutils literal notranslate"><span class="pre">MIMIR_FORTRAN_RT</span></code>, e.g. <code class="docutils literal notranslate"><span class="pre">libomp5</span></code> and
<code class="docutils literal notranslate"><span class="pre">libgfortran6</span></code>.</p>
</div>
<ul class="simple">
<li><p>By default, the application loads a bundled config file. It can be overridden by
setting the environment variable: <code class="docutils literal notranslate"><span class="pre">export</span> <span class="pre">OSPL_URI=file:///path/to/ospl.xml</span></code>.</p></li>
<li><p><strong>Note</strong>, the automatically set <code class="docutils literal notranslate"><span class="pre">OSPL_URI</span></code> and <code class="docutils literal notranslate"><span class="pre">OSPL_HOME</span></code> only
works if you install to the default location specified by
<code class="docutils literal notranslate"><span class="pre">MIMIR_INSTALL_PREFIX</span></code> in <code class="docutils literal notranslate"><span class="pre">CMakeLists.txt</span></code>, it is <code class="docutils literal notranslate"><span class="pre">/opt/sintef</span></code>
with conan and <code class="docutils literal notranslate"><span class="pre">/usr/local</span></code> otherwise.</p></li>
</ul>
</div>
</div>
<div class="section" id="windows">
<h2>Windows<a class="headerlink" href="#windows" title="Permalink to this headline">¶</a></h2>
<div class="section" id="prerequisites">
<h3>Prerequisites<a class="headerlink" href="#prerequisites" title="Permalink to this headline">¶</a></h3>
<p>Prerequisites using <code class="docutils literal notranslate"><span class="pre">conan</span></code>. Most commands expect you to run with elevated privileges.
We make use of <a class="reference external" href="https://chocolatey.org/">chocolatey</a> package manager for windows:</p>
<div class="highlight-sh notranslate"><div class="highlight"><pre><span></span>powershell -Command Set-ExecutionPolicy Bypass -Scope Process -Force<span class="p">;</span> <span class="se">\</span>
  <span class="o">[</span>System.Net.ServicePointManager<span class="o">]</span>::SecurityProtocol <span class="o">=</span> <span class="se">\</span>
  <span class="o">[</span>System.Net.ServicePointManager<span class="o">]</span>::SecurityProtocol -bor <span class="m">3072</span><span class="p">;</span> <span class="se">\</span>
  iex <span class="o">((</span>New-Object System.Net.WebClient<span class="o">)</span>.DownloadString<span class="o">(</span> <span class="se">\</span>
  <span class="s1">&#39;https://chocolatey.org/install.ps1&#39;</span><span class="o">))</span>
</pre></div>
</div>
<div class="highlight-sh notranslate"><div class="highlight"><pre><span></span>choco install -y python3 Wget
choco install -y cmake --installargs <span class="s1">&#39;&quot;ADD_CMAKE_TO_PATH=System&quot;&#39;</span>
choco install -y git.install --params <span class="s2">&quot;/GitAndUnixToolsOnPath&quot;</span>
python -m pip install setuptools wheel conan win-unicode-console
</pre></div>
</div>
<p>Microsoft Visual Studio build tools if they are not already installed.
These commands must to be run with <code class="docutils literal notranslate"><span class="pre">cmd.exe</span></code>.
<strong>Note</strong> that the <code class="docutils literal notranslate"><span class="pre">vs_buildtools.exe</span></code> will run in the background.
These steps are not necessary if you have Visual Studio with C++ compilers installed.</p>
<div class="highlight-sh notranslate"><div class="highlight"><pre><span></span>mkdir C:<span class="se">\T</span>EMP <span class="o">&amp;&amp;</span> <span class="nb">cd</span> C:<span class="se">\T</span>EMP
wget https://aka.ms/vs/16/release/vs_buildtools.exe
vs_buildtools.exe --quiet --norestart --wait --nocache <span class="se">\</span>
  --installPath C:<span class="se">\B</span>uildTools <span class="se">\</span>
  --add Microsoft.VisualStudio.Workload.MSBuildTools <span class="se">\</span>
  --add Microsoft.VisualStudio.Workload.VCTools --includeRecommended
setx path <span class="s2">&quot;%path%;C:\BuildTools\Common7\Tools&quot;</span>
</pre></div>
</div>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>You may need to start new command window sessions between commands to load the new PATH variables.</p>
</div>
</div>
<div class="section" id="documentation-prerequisites-on-windows-optional">
<h3>Documentation prerequisites on Windows <em>(optional)</em><a class="headerlink" href="#documentation-prerequisites-on-windows-optional" title="Permalink to this headline">¶</a></h3>
<div class="highlight-sh notranslate"><div class="highlight"><pre><span></span>choco install -y doxygen.install emacs plantuml pandoc
choco install -y graphviz.portable --force <span class="c1"># Maybe optional: 2.44 broken, downgrades to 2.38</span>
python -m pip install -r docs/requirements.txt --upgrade
emacs -Q --batch -l docs/emacs-install-pkgs.el
</pre></div>
</div>
</div>
<div class="section" id="building-and-running">
<h3>Building and running<a class="headerlink" href="#building-and-running" title="Permalink to this headline">¶</a></h3>
<p>To install dependencies and build the application you can run the following commands:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>mkdir build
<span class="nb">cd</span> build
conan install .. <span class="se">\</span>
  --options mimir:with_doc<span class="o">=</span>True <span class="se">\</span>
  --build missing
conan build ..
</pre></div>
</div>
<p>You need to use a virtual environment to run the application.</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">activate.bat</span></code> sets <code class="docutils literal notranslate"><span class="pre">OSPL_URI</span></code> and <code class="docutils literal notranslate"><span class="pre">OSPL_HOME</span></code> environment variables.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">activate_run.bat</span></code> sets <code class="docutils literal notranslate"><span class="pre">PATH</span></code> to directories with dynamic libraries.</p></li>
</ul>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>activate.bat
activate_run.bat
<span class="nb">cd</span> bin
mimir.exe -v <span class="m">4</span> ../path/to/config.yml
</pre></div>
</div>
</div>
<div class="section" id="packaging-into-installer-and-archive">
<h3>Packaging into installer and archive<a class="headerlink" href="#packaging-into-installer-and-archive" title="Permalink to this headline">¶</a></h3>
<p>The project is set up with packaging into an executable installer (<em>.exe.</em>) and an
archive (<em>.tar.gz</em>) using the build target named <code class="docutils literal notranslate"><span class="pre">package_it</span></code>. The installer is made
with <a class="reference external" href="https://nsis.sourceforge.io/Main_Page">NSIS</a> through CPack. NSIS and can be installed with chocolatey:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>choco install -y nsis
</pre></div>
</div>
<p>This step assumes that you have called <code class="docutils literal notranslate"><span class="pre">conan</span> <span class="pre">install</span></code> as described above.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="nb">cd</span> build
conan package ..
<span class="c1"># or</span>
cmake --build . --config Release --target package_it
</pre></div>
</div>
<ul class="simple">
<li><p>By default, the application loads a bundled configuration file <code class="docutils literal notranslate"><span class="pre">ospl.xml</span></code>. It can be
overridden by setting the environment variable: <code class="docutils literal notranslate"><span class="pre">set</span> <span class="pre">OSPL_URI=file://C:\\path\\to\\ospl.xml</span></code>.</p></li>
<li><p><strong>Note</strong>, the automatically set <code class="docutils literal notranslate"><span class="pre">OSPL_URI</span></code> and <code class="docutils literal notranslate"><span class="pre">OSPL_HOME</span></code> only works if you install
to the default location specified by <code class="docutils literal notranslate"><span class="pre">MIMIR_INSTALL_PREFIX</span></code> in <code class="docutils literal notranslate"><span class="pre">CMakeLists.txt</span></code>,
which is <code class="docutils literal notranslate"><span class="pre">C:/Program</span> <span class="pre">Files/mimir-&lt;version&gt;</span></code>.</p></li>
</ul>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>If the package is installed with docs, <code class="docutils literal notranslate"><span class="pre">WIN</span> <span class="pre">+</span> <span class="pre">&quot;Mimir</span> <span class="pre">Documentation'&quot;</span></code> should link to the bundled html documentation.</p>
</div>
</div>
</div>
</div>


           </div>
           
          </div>
          <footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
        <a href="extending.html" class="btn btn-neutral float-right" title="Creating a new algorithm" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
        <a href="intro.html" class="btn btn-neutral float-left" title="Introduction" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>
        &#169; Copyright 2021, SINTEF Ocean.

    </p>
  </div>
    
    
    
    Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. <jinja2.runtime.BlockReference object at 0x7fb280eac850>

<br /><br />
<table>
  <tr>
    <td width="120" style="vertical-align:middle;text-align:center">
      <img alt="FHF" style="border-width:0" width="100" src="../_static/FHF-black-txt.png" />
    </td>
    <td>
      This work was funded by <a href="https://www.fhf.no/fhf/about-fhf-english">FHF &ndash; Norwegian Seafood Research Fund</a> with <a href="https://www.fhf.no/prosjekter/prosjektbasen/901350/">Grant No. 901350</a>.<br /><br />
    </td>
  </tr>
  <tr>
    <td width="32" style="vertical-align:middle;text-align:center">
      <img alt="Apache License, Version 2.0" style="border-width:0" width="32" src="https://upload.wikimedia.org/wikipedia/commons/7/7e/Apache_Feather_Logo.svg" />
    </td>
    <td>
      This work is licensed under the Apache License, Version 2.0 (the "License").
      You may obtain a copy of the License at
      <a rel="license" href="https://www.apache.org/licenses/LICENSE-2.0">Apache License, Version 2.0.</a><br />
      Unless required by applicable law or agreed to in writing,
      software distributed under the License is distributed on an "AS IS" BASIS, WITHOUT
      WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the License for the
      specific language governing permissions and limitations under the License.
    </td>
  </tr>
</table>


</footer>
        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>